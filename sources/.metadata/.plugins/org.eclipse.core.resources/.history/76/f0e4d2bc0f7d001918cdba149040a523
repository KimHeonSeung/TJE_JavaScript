<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>계산기</title>
<script src="js/jquery.js"></script>
<script type="text/javascript">
// 연산의 진행과정을 저장하는 process
var process;
// 키가 눌릴 때 변수로 받아올 num
var num = "";
// 연산자 정보를 저장하는 op
var op = "";
// .처리위한 변수
var dot = "";

// 연산키가 눌렸을 때 num을 바로 n1에 저장하기위한 변수
var n1 = "";
// 
var n2 = "";
var result = "";
$(function(){
	
	$(document).on("keydown", function(e) {
		switch(e.keyCode) {
		// 0키
		case 48, 96:
			if( num == "0" ){
				num = "0";
			} else {
				num += "0";
			}
			$("#console_process").val(num);
			break;
			
		case 49, 97:
			input = "1"; 
			if( num.charAt(0) == "0" ){
				num = "1";
			} else if (num.charAt(0) != "0" ) {
				num += "1";
			}
			$("#console_process").val(num);
			console.log("num : " + num);
			break;
			
		case 50, 98:
			input = "2"; 
			if( num.charAt(0) == "0" ){
				num = "2";
			} else {
				num += "2";
			}
			$("#console_process").val(num);
			console.log("num : " + num);
			break;
			
		case 51, 99:
			input = "3"; 
			if( num.charAt(0) == "0" ){
				num = "3";
			} else {
				num += "3";
			}
			$("#console_process").val(num);
			break;
			
		case 52, 100:
			input = "4"; 
			if( num.charAt(0) == "0" ){
				num = "4";
			} else {
				num += "4";
			}
			$("#console_process").val(num);
			break;
			
		case 53, 101:
			input = "5"; 
			if( num.charAt(0) == "0" ){
				num = "5";
			} else {
				num += "5";
			}
			$("#console_process").val(num);
			break;
			
		case 54, 102:
			input = "6"; 
			if( num.charAt(0) == "0" ){
				num = "6";
			} else {
				num += "6";
			}
			$("#console_process").val(num);
			break;
			
		case 55, 103:
			input = "7"; 
			if( num.charAt(0) == "0" ){
				num = "7";
			} else {
				num += "7";
			}
			$("#console_process").val(num);
			break;
			
		case 56, 104:
			input = "8"; 
			if( num.charAt(0) == "0" ){
				num = "8";
			} else {
				num += "8";
			}
			$("#console_process").val(num);
			break;
			
		case 57, 105:
			input = "9"; 
			if( num.charAt(0) == "0" ){
				num = "9";
			} else {
				num += "9";
			}
			$("#console_process").val(num);
			break;
			
			
		// 연산자들	
		case 106: 
			op = "*"; 
			// 연산자가 눌리는 순간 바로 n1에 현재 적은 num을 저장시킨다.
			n1 = parseFloat(num);
			num = "";
			process = n1 + "*";
			$("#console_process").val(process);
			console.log("num : " + num);
			break;

		case 107: 
			op = "+"; 
			n1 = parseFloat(num);
			num = "";
			process = n1 + "+";
			$("#console_process").val(process);
			console.log("num : " + num);
			break;
			
		case 109: 
			op = "-"; 
			n1 = parseFloat(num);
			num = "";
			process = n1 + "-";
			$("#console_process").val(process);
			console.log("num : " + num);
			break;
			
		case 111: 
			op = "/"; 
			n1 = parseFloat(num);
			num = "";
			process = n1 + "/";
			$("#console_process").val(process);
			console.log("num : " + num);
			break;
		}
		
		boolean isOp = e.keyCode == 106 || e.keyCode == 107 
						|| e.keyCode == 109 || e.keyCode == 109
						|| e.keyCode == 111
	
	});
	
	
	
/*	
	// 키보드를 인식하여 숫자를 num에 담고, 연산자를 op에 담는다.
	$(document).on("keydown", function(e) {
		var input = "";
		
		switch(e.keyCode) {
			case 8: 
				input = "backspace"; 
				break;
		
			case 106: 
				op = "*"; 
				n1 = parseFloat(num);
				num = "";
				process = n1 + "*";
				$("#console_process").val(process);
				console.log("num : " + num);
				break;
		
			case 107: 
				op = "+"; 
				n1 = parseFloat(num);
				num = "";
				process = n1 + "+";
				$("#console_process").val(process);
				console.log("num : " + num);
				break;
				
			case 109: 
				op = "-"; 
				n1 = parseFloat(num);
				num = "";
				process = n1 + "-";
				$("#console_process").val(process);
				console.log("num : " + num);
				break;
				
			case 110: 
				dot = "."; 
				n1 = parseFloat(num) + ".";
				process = n1;
				$("#console_process").val(process);
				console.log("num : " + num);
				
				break;
				
			case 111: 
				op = "/"; 
				n1 = parseFloat(num);
				num = "";
				process = n1 + "/";
				$("#console_process").val(process);
				console.log("num : " + num);
				break;
				
			case 48, 96:
				input = "0"; 
				if( num == "0" ){
					num = "0";
				} else {
					num += "0";
				}
				$("#console_process").val(num);
				break;
				
			case 49, 97:
				input = "1"; 
				if( num.charAt(0) == "0" ){
					num = "1";
				} else if (num.charAt(0) != "0" ) {
					num += "1";
				}
				$("#console_process").val(num);
				console.log("num : " + num);
				break;
				
			case 50, 98:
				input = "2"; 
				if( num.charAt(0) == "0" ){
					num = "2";
				} else {
					num += "2";
				}
				$("#console_process").val(num);
				console.log("num : " + num);
				break;
				
			case 51, 99:
				input = "3"; 
				if( num.charAt(0) == "0" ){
					num = "3";
				} else {
					num += "3";
				}
				$("#console_process").val(num);
				break;
				
			case 52, 100:
				input = "4"; 
				if( num.charAt(0) == "0" ){
					num = "4";
				} else {
					num += "4";
				}
				$("#console_process").val(num);
				break;
				
			case 53, 101:
				input = "5"; 
				if( num.charAt(0) == "0" ){
					num = "5";
				} else {
					num += "5";
				}
				$("#console_process").val(num);
				break;
				
			case 54, 102:
				input = "6"; 
				if( num.charAt(0) == "0" ){
					num = "6";
				} else {
					num += "6";
				}
				$("#console_process").val(num);
				break;
				
			case 55, 103:
				input = "7"; 
				if( num.charAt(0) == "0" ){
					num = "7";
				} else {
					num += "7";
				}
				$("#console_process").val(num);
				break;
				
			case 56, 104:
				input = "8"; 
				if( num.charAt(0) == "0" ){
					num = "8";
				} else {
					num += "8";
				}
				$("#console_process").val(num);
				break;
				
			case 57, 105:
				input = "9"; 
				if( num.charAt(0) == "0" ){
					num = "9";
				} else {
					num += "9";
				}
				$("#console_process").val(num);
				break;
				
			case 13:
				n2 = n1;
				if(op == "+") {
					n2 += parseFloat(num);
					console.log(n2);
				} else if (op == "-") {
					n2 -= parseFloat(num);
					console.log(n2);
				} else if (op == "*") {
					n2 *= parseFloat(num);
					console.log(n2);
				} else if (op == "/") {
					n2 /= parseFloat(num);
					console.log(n2);
				} 
				$("#console_process").val("");
				$("#console_result").val(n2);
				num = "";
				op = "";
				break;
				
		console.log("n1 : " + n1);
		console.log("num : " + num);
		}
		
	});
	// c를 클릭하면 num이 비워진다.
	$("#c").on("click" , function() {});
	$("#d").on("click" , function() {op = "/"; 
									n1 = parseFloat(num);
									num = "";
									process = n1 + "/";
									$("#console_process").val(process);
									console.log("num : " + num);});
	$("#m").on("click" , function() {op = "*"; 
									n1 = parseFloat(num);
									num = "";
									process = n1 + "*";
									$("#console_process").val(process);
									console.log("num : " + num);});
	$("#mi").on("click" , function() {op = "-"; 
									n1 = parseFloat(num);
									num = "";
									process = n1 + "-";
									$("#console_process").val(process);
									console.log("num : " + num);});
	$("#pl").on("click" , function() {op = "+"; 
									n1 = parseFloat(num);
									num = "";
									process = n1 + "+";
									$("#console_process").val(process);
									console.log("num : " + num);});
	$("#equal").on("click" , function() {n2 = n1;
										if(op == "+") {
											n2 += parseFloat(num);
											console.log(n2);
										} else if (op == "-") {
											n2 -= parseFloat(num);
											console.log(n2);
										} else if (op == "*") {
											n2 *= parseFloat(num);
											console.log(n2);
										} else if (op == "/") {
											n2 /= parseFloat(num);
											console.log(n2);
										} 
										$("#console_process").val("");
										$("#console_result").val(n2);
										num = "";
										op = "";});
	$("#1").on("click" , function() {
		input = "1"; 
		if( num.charAt(0) == "0" ){
			num = "1";
		} else if (num.charAt(0) != "0" ) {
			num += "1";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#2").on("click" , function() {
		input = "2"; 
		if( num.charAt(0) == "0" ){
			num = "2";
		} else if (num.charAt(0) != "0" ) {
			num += "2";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#3").on("click" , function() {
		input = "3"; 
		if( num.charAt(0) == "0" ){
			num = "3";
		} else if (num.charAt(0) != "0" ) {
			num += "3";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#4").on("click" , function() {
		input = "4"; 
		if( num.charAt(0) == "0" ){
			num = "4";
		} else if (num.charAt(0) != "0" ) {
			num += "4";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#5").on("click" , function() {
		input = "5"; 
		if( num.charAt(0) == "0" ){
			num = "5";
		} else if (num.charAt(0) != "0" ) {
			num += "5";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#6").on("click" , function() {
		input = "6"; 
		if( num.charAt(0) == "0" ){
			num = "6";
		} else if (num.charAt(0) != "0" ) {
			num += "6";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#7").on("click" , function() {
		input = "7"; 
		if( num.charAt(0) == "0" ){
			num = "7";
		} else if (num.charAt(0) != "0" ) {
			num += "7";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#8").on("click" , function() {
		input = "8"; 
		if( num.charAt(0) == "0" ){
			num = "8";
		} else if (num.charAt(0) != "0" ) {
			num += "8";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#9").on("click" , function() {
		input = "9"; 
		if( num.charAt(0) == "0" ){
			num = "9";
		} else if (num.charAt(0) != "0" ) {
			num += "9";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	$("#0").on("click" , function() {
		input = "0"; 
		if( num.charAt(0) == "0" ){
			num = "0";
		} else if (num.charAt(0) != "0" ) {
			num += "0";
		}
		$("#console_process").val(num);
		console.log("num : " + num);
	});
	
});
*/
</script>



<style type = "text/css">
input {
	width: 800px;
	height: 50px;
	font-size: 30px;
}
button {
	width: 80px;
	height: 80px;
	font-size: 50px;
}
#zero {
	width: 100%;
	font-size: 50px;
}
#equal {
	height: 162px;
	font-size: 50px;
}
</style>
</head>
<body>
	<div id = "console">
		<fieldset>
		<legend>진행창</legend>
			<p><input type = "text" id = "console_process" ></p>
			<p><input type = "text" id = "console_result" value = "0"></p>
		</fieldset>
	</div>
	
	<table>
	<tr>
		<td><button id = "backspace" value = "backspace">del</button></td>
		<td><button id = "ce" value = "ce">ce</button></td>
		<td><button id = "c" value = "c">c</button></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td><button id = "7" value = "7">7</button></td>
		<td><button id = "8" value = "8">8</button></td>
		<td><button id = "9" value = "9">9</button></td>
		<td><button id = "d" value = "/">/</button></td>
		<td></td>
		
	</tr>
	<tr>
		<td><button id = "4" value = "4">4</button></td>
		<td><button id = "5" value = "5">5</button></td>
		<td><button id = "6" value = "6">6</button></td>
		<td><button id = "m" value = "*">*</button></td>
		<td></td>
	</tr>
	<tr>
		<td><button id = "1" value = "1">1</button></td>
		<td><button id = "2" value = "2">2</button></td>
		<td><button id = "3" value = "3">3</button></td>
		<td><button id = "mi" value = "-">-</button></td>
		<td rowspan="2"><button id = "equal" value = "equal">=</button></td>
	</tr>
	<tr >
		<td colspan="2"><button id = "zero" value = "0">0</button></td>
		<td><button id = "dot" value = ".">.</button></td>
		<td><button id = "pl" value = "+">+</button></td>
		<td></td>
	</table>
</body>
</html>